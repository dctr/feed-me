{"version":3,"sources":["src/app.js"],"names":[],"mappings":";;;mBAEI,cAAc,EAChB,KAAK,EACL,YAAY,EACZ,UAAU,EACV,UAAU;;;;;;AAJR,oBAAc;AAChB,WAAK;AACL,kBAAY;AACZ,gBAAU;AACV,gBAAU;;AAEZ,oBAAc,GAAG,CAAC,CAAC;AACnB,WAAK,GAAG,EAAE,CAAC;AACX,gBAAU,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;;AAE/C,kBAAY,GAAG,UAAA,OAAO,EAAI;AACxB,YAAI,MAAM,YAAA,CAAC;;AAEX,cAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;AACrC,cAAM,CAAC,SAAS,GAAG,OAAO,CAAC;AAC3B,eAAO,MAAM,CAAC;OACf,CAAC;;AAEF,gBAAU,GAAG,UAAA,SAAS,EAAI;AACxB,eAAO,CAAC,GAAG,CAAC,mBAAmB,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC;AAChD,aAAK,CAAC,IAAI,CAAC,UAAC,IAAI,EAAE,IAAI,EAAK;AACzB,iBAAO,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;SACtC,CAAC,CAAC;AACH,eAAO,CAAC,GAAG,CAAC,oBAAoB,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;AACrD,iBAAS,CAAC,OAAO,CAAC,UAAA,IAAI,EAAI;AACxB,oBAAU,CAAC,WAAW,CAAC,YAAY,CACjC,IAAI,CAAC,SAAS,GACd,uBAAuB,GAAG,IAAI,CAAC,IAAI,GAAG,oBAAoB,GAAG,IAAI,CAAC,KAAK,GAAG,mBAAmB,GAC7F,IAAI,CAAC,QAAQ,CAAC,cAAc,EAAE,CAC/B,CAAC,CAAC;SACJ,CAAC,CAAC;OACJ,CAAC;;AAEF,OACE,0CAA0C,EAC1C,6BAA6B,EAC7B,2CAA2C,EAC3C,iDAAiD,EACjD,8CAA8C,EAC9C,+CAA+C,EAC/C,6CAA6C,EAC7C,iDAAiD,EACjD,gDAAgD,EAChD,2BAA2B,EAC3B,uCAAuC,EACvC,oCAAoC,CACrC,CAAC,OAAO,CAAC,UAAA,GAAG,EAAI;AACf,sBAAc,EAAE,CAAC;AACjB,eAAO,CAAC,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,CAAC;AAChC,mBAAW,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,UAAA,IAAI,EAAI;AAC5B,eAAK,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;AACxC,iBAAO,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,GAAG,cAAc,CAAC,CAAC;AACpD,wBAAc,EAAE,CAAC;AACjB,cAAI,cAAc,KAAK,CAAC,EAAE;AACxB,sBAAU,CAAC,KAAK,CAAC,CAAC;WACnB;SACF,CAAC,SAAM,CAAC,UAAA,MAAM,EAAI;AACjB,iBAAO,CAAC,GAAG,CAAC,iBAAiB,GAAG,GAAG,CAAC,CAAC;AACrC,iBAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AACpB,wBAAc,EAAE,CAAC;AACjB,cAAI,cAAc,KAAK,CAAC,EAAE;AACxB,sBAAU,CAAC,KAAK,CAAC,CAAC;WACnB;SACF,CAAC,CAAC;OACJ,CAAC,CAAC","file":"src/app.js","sourcesContent":["import feedFactory from 'feedFactory.js';\n\nlet countDownLatch,\n  feeds,\n  newOutputTag,\n  outputArea,\n  printFeeds;\n\ncountDownLatch = 0;\nfeeds = [];\noutputArea = document.getElementById('output');\n\nnewOutputTag = content => {\n  let result;\n\n  result = document.createElement('p');\n  result.innerHTML = content;\n  return result;\n};\n\nprintFeeds = feedArray => {\n  console.log('Sorting entries: ' + feeds.length);\n  feeds.sort((val1, val2) => {\n    return val2.dateTime - val1.dateTime;\n  });\n  console.log('Printing entries: ' + feedArray.length);\n  feedArray.forEach(feed => {\n    outputArea.appendChild(newOutputTag(\n      feed.feedTitle +\n      ' -- <strong><a href=\"' + feed.link + '\" target=\"_blank\">' + feed.title + '</a></strong> -- ' +\n      feed.dateTime.toLocaleString()\n    ));\n  });\n};\n\n[\n  'http://rss.golem.de/rss.php?feed=ATOM1.0',\n  'http://ticker.gulli.com/rss',\n  'http://www.bbc.co.uk/blogs/doctorwho/atom',\n  'http://www.heise.de/developer/rss/news-atom.xml',\n  'http://www.heise.de/netze/rss/netze-atom.xml',\n  'http://www.heise.de/newsticker/heise-atom.xml',\n  'http://www.heise.de/open/news/news-atom.xml',\n  'http://www.heise.de/security/news/news-atom.xml',\n  'http://www.pro-linux.de/rss/1/4/atom_alles.xml',\n  'https://mailbox.org/feed/',\n  'https://www.archlinux.org/feeds/news/',\n  'https://www.tagesschau.de/xml/rss2'\n].forEach(url => {\n  countDownLatch++;\n  console.log('Fetching: ' + url);\n  feedFactory(url).then(data => {\n    feeds = feeds.concat(data.getEntries());\n    console.log(feeds.length + ' -- ' + countDownLatch);\n    countDownLatch--;\n    if (countDownLatch === 0) {\n      printFeeds(feeds);\n    }\n  }).catch(reason => {\n    console.log('Could not load ' + url);\n    console.log(reason);\n    countDownLatch--;\n    if (countDownLatch === 0) {\n      printFeeds(feeds);\n    }\n  });\n});\n"]}